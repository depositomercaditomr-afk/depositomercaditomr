<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mercadito MR - Donde comprar da felicidad</title>
  <meta name="description" content="Tu mercado mayorista y minorista de confianza en Maicao, La Guajira. Productos frescos con los mejores precios.">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
<script src="script.js"></script>
  <!-- Header -->
  <header class="header">
    <div class="container header-content">
      <a href="#inicio" class="header-logo">
        <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgAd7Z368OQw_zAZ49gk9x6tlu3HkJugVB2jH38-ZHhX-Fg8QheabIxh527a0X05vhbBaHQLwGujR136o-ELCDLbmiw808UKStsDDWJ_3FZvXcsHrA0r-1CxxWHHegjIbZjiVZ8lYcJzhwKTVn2yF-vMW_FpJ1A0qY5QS_LZHIdSDfWejw4pzZeqS5lfSc/s320/Mercadito%20MR%20(3).png" alt="Mercadito MR">
      </a>

      <nav class="header-nav">
        <a href="#inicio">Inicio</a>
        <a href="#productos">Productos</a>
        <a href="#pedidos">Pedidos</a>
        <a href="#contacto">Contacto</a>
      </nav>

     <div class="header-actions">
  <a href="https://wa.me/573126370370" class="cart-btn" target="_blank" title="WhatsApp">
    <i data-lucide="message-circle" style="color: #25D366;"></i>
  </a>
  <button class="menu-btn">
    <i data-lucide="menu"></i>
  </button>
</div>
  </header>

  <!-- Hero Section -->
  <section id="inicio" class="hero">
    <div class="container hero-content">
      <div class="hero-text">
        <div class="hero-badge">
          <i data-lucide="badge-percent"></i>
          <span>Ofertas especiales cada semana</span>
        </div>

        <div class="hero-logo">
          <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhcstXpCn2jZhKP5C4nUMNaeXU6VD1n66z5sJDbCzQEc1f_IYkmkBPVFkk560DQEc4dWOSUZYnnvmcWie-tLFD_THDlFpiee-8Yb7h6hag5AmXrZl5fHyVN-6ZIDUgWF4XpwPLg6Mqr2mimMsPB0oRkgRnn498VCTaXJcnhrG8KE1iQVnlX2E-SifiYd2M/s320/Mercadito%20MR%20(4).png" alt="Mercadito MR">
        </div>

        <p class="hero-slogan">Donde comprar da felicidad</p>

        <p class="hero-description">
          Tu mercado de confianza en Maicao. Productos frescos al por mayor y menor con los mejores precios de La Guajira.
        </p>

        <div class="hero-buttons">
          <a href="#productos" class="btn btn-primary btn-lg">
            Ver productos
            <i data-lucide="arrow-right"></i>
          </a>
          <a href="#pedidos" class="btn btn-outline btn-lg">
            Hacer pedido
          </a>
        </div>

        <div class="hero-features">
          <div class="hero-feature">
            <div class="hero-feature-icon">
              <i data-lucide="truck"></i>
            </div>
            <span>Env√≠o gratis</span>
          </div>
          <div class="hero-feature">
            <div class="hero-feature-icon">
              <i data-lucide="badge-percent"></i>
            </div>
            <span>Precios bajos</span>
          </div>
          <div class="hero-feature">
            <div class="hero-feature-icon">
              <i data-lucide="clock"></i>
            </div>
            <span>Entrega r√°pida</span>
          </div>
        </div>
      </div>

      <div class="hero-images">
        <div class="hero-img-col">
          <div class="hero-img hero-img-tall">
            <img src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&h=280&fit=crop" alt="Frutas frescas">
          </div>
          <div class="hero-img hero-img-short">
            <img src="https://images.unsplash.com/photo-1604719312566-8912e9227c6a?w=400&h=180&fit=crop" alt="Productos variados">
          </div>
        </div>
        <div class="hero-img-col">
          <div class="hero-img hero-img-medium">
            <img src="https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?w=400&h=200&fit=crop" alt="Carnes frescas">
          </div>
          <div class="hero-img hero-img-large">
            <img src="https://images.unsplash.com/photo-1628088062854-d1870b4553da?w=400&h=260&fit=crop" alt="L√°cteos">
          </div>
        </div>
      </div>
    </div>
  </section>

<!-- Products Section -->
<section id="productos" class="products">
  <div class="container">
    <div class="products-header">
      <h2 class="products-title">Cat√°logo Mayorista</h2>
      <p class="products-subtitle">Los precios mostrados pueden no ser loa correctos, espera la confirmaci√≥n de tu pedido para confirmar el precio total de la compra</p>
    </div>

    <!-- Categor√≠as Grid -->
    <div class="categories-grid" id="categoriesContainer">
      <!-- Las categor√≠as se cargar√°n aqu√≠ -->
    </div>

    <!-- Productos Grid (se muestra al seleccionar categor√≠a) -->
    <div id="productsByCategory" style="display: none;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h3 id="categoryTitle" style="font-size: 1.75rem; font-weight: 700;"></h3>
        <button id="backToCategories" class="btn btn-outline btn-sm">
          <i data-lucide="arrow-left" style="width: 16px; height: 16px;"></i>
          Volver a categor√≠as
        </button>
      </div>
      
      <div class="products-grid" id="productsGrid">
        <!-- Los productos por categor√≠a aparecer√°n aqu√≠ -->
      </div>
    </div>
  </div>
</section>

  <!-- Delivery Section -->
  <section id="pedidos" class="delivery">
    <div class="container delivery-content">
      <div class="delivery-text">
        <div class="delivery-badge">
          <i data-lucide="truck"></i>
          <span>Servicio a domicilio</span>
        </div>

        <h2 class="delivery-title">Pedidos a Domicilio</h2>

        <p class="delivery-description">
          ¬øNo puedes venir al mercado? ¬°Nosotros te llevamos tus productos frescos hasta la puerta de tu casa!
        </p>

        <div class="delivery-features">
          <div class="delivery-feature">
            <i data-lucide="check-circle"></i>
            <span>Entrega el mismo d√≠a</span>
          </div>
          <div class="delivery-feature">
            <i data-lucide="check-circle"></i>
            <span>Env√≠o gratis +$50.000</span>
          </div>
        </div>

       <a href="https://wa.me/573126370370" target="_blank" style="text-decoration: none; color: inherit;">
  <div class="delivery-phone">
    <div class="delivery-phone-icon" style="background-color: #25D366;">
      <!-- √çcono de WhatsApp -->
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 14.72c-.24.14-1.39.76-1.61.85-.22.1-.38.12-.55-.12-.17-.24-.66-.81-.81-.97-.15-.16-.3-.18-.55-.06-.24.12-1.02.38-1.96 1.21-.74.66-1.3 1.47-1.45 1.72-.15.24-.31.27-.57.27-.26 0-.71-.1-1.36-.39-.65-.29-1.22-.66-1.74-1.13-.6-.53-1.07-1.18-1.5-1.96-.43-.78-.73-1.61-.83-2.47-.1-.86.02-1.69.34-2.38.32-.69.87-1.19 1.5-1.5.24-.12.51-.18.78-.18.26 0 .39.03.56.06.17.03.38.08.55.39.17.31.59 1.06.64 1.14.05.08.1.18.05.34-.05.16-.1.24-.2.34-.1.1-.21.22-.3.3-.1.08-.21.17-.09.34.12.17.53.73 1.14 1.18.79.57 1.46.75 1.68.84.22.09.35.08.48-.05.13-.13.55-.64.7-.86.15-.22.3-.19.48-.11.18.08 1.17.55 1.37.65.2.1.35.15.4.23.05.08.05.44-.1.87-.15.43-.85.83-1.2.88z"/>
      </svg>
    </div>
    <div>
      <p class="delivery-phone-label">Escr√≠benos por WhatsApp</p>
      <p class="delivery-phone-number">+57 312 637 0370</p>
    </div>
  </div>
</a>
      </div>

      
<div class="delivery-form-card">
  <h3 class="delivery-form-title">Haz tu pedido</h3>

  <!-- Carrito de productos (nuevo) -->
  <div id="cartSummary" style="display: none; background: #f8f9fa; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1.5rem;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
      <h4 style="margin: 0; font-size: 1rem;">üì¶ Productos agregados:</h4>
      <button id="clearCart" type="button" style="background: none; border: none; color: #dc2626; cursor: pointer; font-size: 0.875rem; display: flex; align-items: center; gap: 0.25rem;">
        <i data-lucide="trash-2" style="width: 16px; height: 16px;"></i> Vaciar
      </button>
    </div>
    <ul id="cartItems" style="list-style: none; padding: 0; margin: 0; max-height: 150px; overflow-y: auto;">
      <!-- Los productos agregados aparecer√°n aqu√≠ -->
    </ul>
  </div>

  <form id="deliveryForm" class="form-grid" style="gap: 1rem;">
    <div class="form-grid form-grid-2">
      <div class="form-group">
        <label class="form-label">Nombre completo</label>
        <input type="text" id="customerName" class="form-input" placeholder="Tu nombre" required>
      </div>
      <div class="form-group">
        <label class="form-label">Tel√©fono</label>
        <input type="tel" id="customerPhone" class="form-input" placeholder="+57 300 000 0000" required>
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">Direcci√≥n completa</label>
      <input type="text" id="customerAddress" class="form-input" placeholder="Barrio, calle, casa #, referencias" required>
    </div>

    <!-- Secci√≥n mejorada para productos -->
    <div class="form-group">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
        <label class="form-label" style="margin: 0;">¬øQu√© productos necesitas?</label>
        <div style="display: flex; gap: 0.5rem;">
          <button type="button" id="toggleManualMode" class="btn btn-outline btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">
            <i data-lucide="edit" style="width: 12px; height: 12px;"></i> Escribir manual
          </button>
        </div>
      </div>
      
      <!-- Modo autom√°tico (productos del carrito) -->
      <textarea id="customerOrder" class="form-textarea" placeholder="Aqu√≠ aparecer√°n autom√°ticamente los productos que agregues desde el cat√°logo..." rows="5" required></textarea>
      
      <!-- Modo manual (escritura libre) -->
      <div id="manualOrderContainer" style="display: none;">
        <textarea id="manualOrder" class="form-textarea" placeholder="Escribe aqu√≠ tus productos manualmente. Ejemplo:&#10;‚Ä¢ FABULOSO 24X500ML - $95.530&#10;‚Ä¢ ARROZ 5kg - $25.000&#10;‚Ä¢ Huevos rojos x30 - $137.000" rows="5"></textarea>
        <small style="color: var(--muted-foreground); display: block; margin-top: 0.25rem;">
          Puedes escribir productos que no est√©n en el cat√°logo o agregar notas especiales.
        </small>
      </div>
      
      <small style="color: var(--muted-foreground); display: block; margin-top: 0.25rem;">
        <i data-lucide="info" style="width: 14px; height: 14px; vertical-align: middle;"></i>
        Agrega productos desde el cat√°logo o escr√≠belos manualmente.
      </small>
    </div>

    <!-- Campo para notas adicionales -->
    <div class="form-group">
      <label class="form-label">Notas adicionales (opcional)</label>
      <textarea id="customerNotes" class="form-textarea" placeholder="Instrucciones especiales, horario de entrega preferido, restricciones de acceso, etc." rows="3"></textarea>
    </div>

    <button type="button" id="whatsappSubmit" class="btn btn-secondary btn-lg form-submit">
      <i data-lucide="message-circle" style="width: 20px; height: 20px;"></i>
      Enviar pedido por WhatsApp
    </button>
  </form>

  <div id="formSuccess" class="form-success">
    <div class="form-success-icon">
      <i data-lucide="check-circle" style="width: 2rem; height: 2rem; color: #16a34a;"></i>
    </div>
    <h4 class="form-success-title">¬°Pedido enviado!</h4>
    <p class="form-success-text">Redirigiendo a WhatsApp...</p>
  </div>
</div></div>
    </div>
  </section>

  <!-- Footer -->
  <footer id="contacto" class="footer">
    <div class="container footer-content">
      <div class="footer-grid">
        <div class="footer-brand">
          <div class="footer-logo">
  <div class="footer-logo-icon">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh48O_aC2ut3aw1Mt1_slrkn9lqHXoRbysMdhxDHf6eMPgpU4a96Kr2CauNdjptadle6Lj64fZcPukO9b8uqQ1aiI-7qjPsfJ8HWioqwJlTRT3d45TA5l4IskGZllVZ5SvKHwNvadi5NLagjVP37Rcaq_YinAXGRIkBcM1w65u4eXS6DQBxgsOAXt2h-4A/s320/Mercadito%20MR%20(2).png" alt="Mercadito MR" style="width: 40px; height: 40px;">
  </div>
  <span class="footer-logo-text">Mercadito <span>MR</span></span>
</div>
          <p class="footer-description">
            Tu mercado mayorista y minorista de confianza. Calidad, frescura y los mejores precios en Maicao, La Guajira.
          </p>
          <div class="footer-social">
            <a href="https://www.facebook.com/profile.php?id=61586565643190"><i data-lucide="facebook"></i></a>
            <a href="https://www.instagram.com/mercadito.mr?igsh=eW54d252bTcyd2Fo"><i data-lucide="instagram"></i></a>
            <a href="tiktok.com/@mercaditomr">
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
    <path d="M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V7.79a4.831 4.831 0 0 1-1.003-.104z"/>
  </svg>
</a>
          </div>
        </div>

        <div class="footer-section">
          <h4>Horarios</h4>
          <div class="footer-info">
            <div class="footer-info-item">
              <i data-lucide="clock"></i>
              <div>
                <strong>Lunes a S√°bado</strong><br>
                5:30 AM - 5:30 PM
              </div>
            </div>
            <div class="footer-info-item">
              <i data-lucide="clock"></i>
              <div>
                <strong>Domingos</strong><br>
                6:00 AM - 1:00 PM
              </div>
            </div>
          </div>
        </div>

        <div class="footer-section">
          <h4>Ubicaci√≥n</h4>
          <div class="footer-info">
            <div class="footer-info-item">
              <i data-lucide="map-pin"></i>
              <div>
                <strong>Direcci√≥n</strong><br>
                Carrera 16 #10-06<br>
                Maicao, La Guajira
              </div>
            </div>
            <div class="footer-info-item">
              <i data-lucide="phone"></i>
              <span>+57 312 637 0370</span>
            </div>
            <div class="footer-info-item">
              <i data-lucide="mail"></i>
              <span>depositomercaditomr@gmail.com</span>
            </div>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>¬© 2026 Mercadito MR. Todos los derechos reservados.</p>
        <p>Donde comprar da felicidad üíõ</p>
      </div>
    </div>
  </footer>

 <script>
  // Initialize Lucide icons
  lucide.createIcons();

  // ===== 1. ORGANIZACI√ìN POR CATEGOR√çAS =====
  const categorias = [
    {
      id: 'limpieza',
      name: 'Limpieza del Hogar',
      icon: 'spray-can',
      color: '#0055A4',
      products: [
        {id: 1, name: "FABULOSO 24X500ML", price: "$95.530", description: "Limpieza y aroma para todo el hogar", image: "https://images.unsplash.com/photo-1604176354204-9268737828e4?w=400&h=200&fit=crop", tag: "Popular"},
        {id: 2, name: "FABULOSO 12 X 1000 ML", price: "$108.028", description: "Limpieza profunda", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 3, name: "BLANKOX X 24 X 500 ML", price: "$29.900", description: "Blanqueador de ropa eficaz", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: "Oferta"},
        {id: 4, name: "BLANKOX X 8 X 2000ML", price: "$47.351", description: "Blanqueador econ√≥mico", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 5, name: "SUAVITEL 56 X 180 ML", price: "$77.000", description: "Suavizante de ropa", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 6, name: "DETER DERSA 48X250", price: "$104.200", description: "Detergente en polvo", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 7, name: "ARIEL 3 X 4 QUILOS", price: "$130.695", description: "Detergente en polvo", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 8, name: "VARSOL ECONOMICO 24 X 150", price: "$36.000", description: "Limpiador multiusos", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 9, name: "DECINFECTANTE AJAX X24X500", price: "$91.100", description: "Desinfectante de superficies", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 10, name: "DETERGENTE VICTORY 48 X 250 G", price: "$75.000", description: "Detergente en polvo", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: "Oferta"}
      ]
    },
    {
      id: 'aseo',
      name: 'Aseo Personal',
      icon: 'user',
      color: '#FFC72C',
      products: [
        {id: 11, name: "JABON UNICO ENCUERO 25 X 200G", price: "$25.457", description: "Jab√≥n de barra", image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=200&fit=crop", tag: "Popular"},
        {id: 12, name: "JABON FAMA 24 X 250 G", price: "$60.000", description: "Jab√≥n de tocador", image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=200&fit=crop", tag: ""},
        {id: 13, name: "JABON PURO 30 X 280 G", price: "$54.040", description: "Jab√≥n antibacterial", image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=200&fit=crop", tag: ""},
        {id: 14, name: "AXION 48 X 235G", price: "$132.525", description: "Jab√≥n l√≠quido para manos", image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=200&fit=crop", tag: ""},
        {id: 15, name: "SHAMPOO PANTENE 12 X 25", price: "Consultar", description: "Shampoo para el cabello", image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=200&fit=crop", tag: ""},
        {id: 16, name: "NOSOTRAS RAPIGEL 10 X 30", price: "$128.238", description: "Toallas higi√©nicas", image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=200&fit=crop", tag: ""},
        {id: 17, name: "TOALLAS ELLAS 48 X 10", price: "$80.000", description: "Toallas femeninas", image: "https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=200&fit=crop", tag: "Oferta"}
      ]
    },
    {
      id: 'alimentos',
      name: 'Alimentos y Bebidas',
      icon: 'coffee',
      color: '#DC2626',
      products: [
        {id: 18, name: "ACEITE RICOCINA X12X900 ML", price: "$90.668", description: "Aceite de cocina", image: "https://images.unsplash.com/photo-1533050487297-09b450131914?w=400&h=200&fit=crop", tag: "Oferta"},
        {id: 19, name: "COLCAFE CLASICO 30X 48 X1.5", price: "$330.000", description: "Caf√© instant√°neo", image: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=200&fit=crop", tag: "Popular"},
        {id: 20, name: "ATUN SARVEL X 48 X 175 G", price: "$142.150", description: "At√∫n en lata", image: "https://images.unsplash.com/photo-1555158337-2a3ee1ebd0c1?w=400&h=200&fit=crop", tag: ""},
        {id: 21, name: "SARDINA BOCADO D MAR X 50X155", price: "$126.021", description: "Sardinas en lata", image: "https://images.unsplash.com/photo-1555158337-2a3ee1ebd0c1?w=400&h=200&fit=crop", tag: ""},
        {id: 22, name: "GALLETAS DUCALES 24 X 2 TACOS", price: "$135.488", description: "Galletas saladas", image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400&h=200&fit=crop", tag: "Popular"},
        {id: 23, name: "SALTIN NOEL TRADICIONAL 24 X 9", price: "$138.230", description: "Galletas saladas", image: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400&h=200&fit=crop", tag: ""},
        {id: 24, name: "LECHE CONDENSADA LA LECHERA", price: "Consultar", description: "Leche condensada", image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400&h=200&fit=crop", tag: ""}
      ]
    },
    {
      id: 'descartables',
      name: 'Descartables y Papeler√≠a',
      icon: 'package',
      color: '#059669',
      products: [
        {id: 25, name: "PAPEL FAMILIA MEGAROLLO X 48", price: "$90.000", description: "Papel higi√©nico", image: "https://images.unsplash.com/photo-1583947581924-860bda6a26df?w=400&h=200&fit=crop", tag: "Oferta"},
        {id: 26, name: "VASOS 3.3 X 60 X 50 UNID", price: "$109.980", description: "Vasos desechables", image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=200&fit=crop", tag: ""},
        {id: 27, name: "PLATOS DARNEL # 12X 24 X20", price: "$29.036", description: "Platos desechables #12", image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=200&fit=crop", tag: ""},
        {id: 28, name: "BOLSA DE 25 QUILOS X 6x 10", price: "$456.000", description: "Bolsas grandes", image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=200&fit=crop", tag: ""},
        {id: 29, name: "SERVILLETAS FAMILIA 32 X 150", price: "$60.598", description: "Servilletas", image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=200&fit=crop", tag: ""},
        {id: 30, name: "PITILLOS BAMBU 150 X 50", price: "$58.000", description: "Pitillos ecol√≥gicos", image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=200&fit=crop", tag: "Popular"}
      ]
    },
    {
      id: 'especias',
      name: 'Especias y Condimentos',
      icon: 'utensils',
      color: '#7C3AED',
      products: [
        {id: 31, name: "SALSA DE TOMATE FRUCO X 24 X250G", price: "$159.308", description: "Salsa de tomate", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 32, name: "MAYONESA BARY 12 X 1000G", price: "$150.000", description: "Mayonesa", image: "https://images.unsplash.com/photo-1533050487297-09b450131914?w=400&h=200&fit=crop", tag: ""},
        {id: 33, name: "MOSTAZA SANJORGE 24 X 100G", price: "$41.385", description: "Mostaza", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""},
        {id: 34, name: "SALSA NEGRA LA FE 24X500 ML", price: "$22.000", description: "Salsa negra", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: "Oferta"},
        {id: 35, name: "SALSA CHINA 24 X 300", price: "$185.000", description: "Salsa china", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=400&h=200&fit=crop", tag: ""}
      ]
    },
    {
      id: 'bebes',
      name: 'Productos para Beb√©s',
      icon: 'baby',
      color: '#0891B2',
      products: [
        {id: 36, name: "HUGGIES ET 1 X 50 X 6", price: "$177.000", description: "Pa√±ales etapa 1", image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400&h=200&fit=crop", tag: "Popular"},
        {id: 37, name: "HUGGIES ET 2 X 50 X 4", price: "$128.000", description: "Pa√±ales etapa 2", image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400&h=200&fit=crop", tag: ""},
        {id: 38, name: "HUGGIES ETP 3 X 50 X 6", price: "$230.000", description: "Pa√±ales etapa 3", image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400&h=200&fit=crop", tag: ""},
        {id: 39, name: "BABY DREAMS ETP 1 X 30 X 8", price: "$148.000", description: "Pa√±ales econ√≥micos", image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400&h=200&fit=crop", tag: "Oferta"},
        {id: 40, name: "NESTOGENO 8 X 135G", price: "$65.592", description: "Leche para beb√©s", image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400&h=200&fit=crop", tag: ""}
      ]
    },
    {
      id: 'granos',
      name: 'Granos y Cereales',
      icon: 'wheat',
      color: '#CA8A04',
      products: [
        {id: 41, name: "ARROZ", price: "Consultar", description: "Diferentes presentaciones", image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=200&fit=crop", tag: ""},
        {id: 42, name: "FRIJOL", price: "Consultar", description: "Diferentes variedades", image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=200&fit=crop", tag: ""},
        {id: 43, name: "LENTEJA", price: "Consultar", description: "Lenteja seca", image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=200&fit=crop", tag: ""},
        {id: 44, name: "MAIZENA 40 X 380 G", price: "$422.258", description: "Harina de ma√≠z", image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=200&fit=crop", tag: ""}
      ]
    },
    {
      id: 'lacteos',
      name: 'L√°cteos y Huevos',
      icon: 'egg',
      color: '#F59E0B',
      products: [
        {id: 45, name: "HUEVO BLANCO 12 X30", price: "$140.000", description: "Huevos frescos", image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400&h=200&fit=crop", tag: "Fresco"},
        {id: 46, name: "HUEVO ROJO 12 X30", price: "$137.000", description: "Huevos frescos rojos", image: "https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400&h=200&fit=crop", tag: ""},
        {id: 47, name: "CREMA DE LECHE 18 X 186G", price: "$109.028", description: "Crema de leche", image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400&h=200&fit=crop", tag: ""},
        {id: 48, name: "LECHE PARMALAC X 12 X 900", price: "$297.000", description: "Leche en polvo", image: "https://images.unsplash.com/photo-1563636619-e9143da7973b?w=400&h=200&fit=crop", tag: ""}
      ]
    }
  ];

  // ===== 2. MOSTRAR CATEGOR√çAS =====
  function mostrarCategorias() {
    const container = document.getElementById('categoriesContainer');
    if (!container) return;
    
    container.innerHTML = '';
    
    categorias.forEach(categoria => {
      const categoryCard = document.createElement('div');
      categoryCard.className = 'category-card';
      categoryCard.dataset.categoryId = categoria.id;
      
      categoryCard.innerHTML = `
        <div class="category-icon" style="background-color: ${categoria.color}20;">
          <i data-lucide="${categoria.icon}"></i>
        </div>
        <h3 class="category-name">${categoria.name}</h3>
        <span class="category-count">${categoria.products.length} productos</span>
      `;
      
      container.appendChild(categoryCard);
      
      // Evento click para mostrar productos de la categor√≠a
      categoryCard.addEventListener('click', () => {
        mostrarProductosCategoria(categoria);
      });
    });
    
    lucide.createIcons();
    
    // Mostrar categor√≠as, ocultar productos
    document.getElementById('categoriesContainer').style.display = 'grid';
    document.getElementById('productsByCategory').style.display = 'none';
  }

  // ===== 3. MOSTRAR PRODUCTOS POR CATEGOR√çA =====
  function mostrarProductosCategoria(categoria) {
    const title = document.getElementById('categoryTitle');
    const grid = document.getElementById('productsGrid');
    
    if (!title || !grid) return;
    
    // Actualizar t√≠tulo
    title.textContent = categoria.name;
    
    // Mostrar productos
    grid.innerHTML = '';
    
    categoria.products.forEach(product => {
      const productCard = document.createElement('div');
      productCard.className = 'product-card';
      productCard.innerHTML = `
        <div class="product-img">
          <img src="${product.image}" alt="${product.name}" loading="lazy">
          ${product.tag ? `<span class="product-tag">${product.tag}</span>` : ''}
        </div>
        <div class="product-content">
          <h3 class="product-name">${product.name}</h3>
          <p class="product-description">${product.description}</p>
          <div class="product-footer">
            <span class="product-price">${product.price}</span>
            <button class="btn btn-primary btn-sm add-to-cart-btn" 
                    data-product="${product.name}" 
                    data-description="${product.description}"
                    data-price="${product.price}">
              <i data-lucide="shopping-cart" style="width: 16px; height: 16px;"></i>
              Agregar
            </button>
          </div>
        </div>
      `;
      
      grid.appendChild(productCard);
    });
    
    lucide.createIcons();
    
    // Configurar eventos del carrito
    setupCartEvents();
    
    // Mostrar productos, ocultar categor√≠as
    document.getElementById('categoriesContainer').style.display = 'none';
    document.getElementById('productsByCategory').style.display = 'block';
  }

  // ===== 4. CARRITO DE COMPRAS =====
let cart = [];
let manualMode = false;

// Inicializar elementos del DOM
function initializeDOMElements() {
  // Estos elementos se inicializan aqu√≠ para asegurar que existan
  window.cartSummary = document.getElementById('cartSummary');
  window.cartItems = document.getElementById('cartItems');
  window.customerOrder = document.getElementById('customerOrder');
  window.manualOrder = document.getElementById('manualOrder');
  window.manualOrderContainer = document.getElementById('manualOrderContainer');
  window.clearCartBtn = document.getElementById('clearCart');
  window.toggleManualModeBtn = document.getElementById('toggleManualMode');
  window.whatsappSubmitBtn = document.getElementById('whatsappSubmit');
  
  // Asegurarse de que los elementos existan
  if (!window.customerOrder) {
    console.error('Elemento customerOrder no encontrado');
  }
  if (!window.whatsappSubmitBtn) {
    console.error('Bot√≥n whatsappSubmit no encontrado');
  }
}

function setupCartEvents() {
  // Agregar al carrito
  document.querySelectorAll('.add-to-cart-btn').forEach(button => {
    button.addEventListener('click', function() {
      const product = {
        name: this.getAttribute('data-product'),
        description: this.getAttribute('data-description')
      };
      
      cart.push(product);
      updateCart();
      
      // Si estamos en modo manual, desactivarlo
      if (manualMode) {
        toggleManualMode();
      }
      
      // Feedback visual
      const originalText = this.innerHTML;
      this.innerHTML = '<i data-lucide="check" style="width: 16px; height: 16px;"></i> ¬°Agregado!';
      this.style.backgroundColor = '#16a34a';
      this.disabled = true;
      
      setTimeout(() => {
        this.innerHTML = originalText;
        this.style.backgroundColor = '';
        this.disabled = false;
        lucide.createIcons();
      }, 1000);
    });
  });
}

function updateCart() {
  // Verificar que los elementos existan
  if (!window.cartItems || !window.customerOrder || !window.manualOrder) return;
  
  window.cartItems.innerHTML = '';
  
  if (cart.length === 0) {
    if (window.cartSummary) window.cartSummary.style.display = 'none';
    if (!manualMode) {
      window.customerOrder.value = '';
      window.customerOrder.placeholder = 'Aqu√≠ aparecer√°n autom√°ticamente los productos que agregues desde el cat√°logo...';
    }
    return;
  }
  
  if (window.cartSummary) window.cartSummary.style.display = 'block';
  
  cart.forEach((item, index) => {
    const li = document.createElement('li');
    li.style.padding = '0.5rem 0';
    li.style.borderBottom = '1px solid #e5e7eb';
    li.style.display = 'flex';
    li.style.justifyContent = 'space-between';
    li.style.alignItems = 'center';
    
    li.innerHTML = `
      <div style="flex: 1;">
        <strong style="font-size: 0.875rem;">${item.name}</strong>
        ${item.description ? `<div style="font-size: 0.75rem; color: #6b7280;">${item.description}</div>` : ''}
      </div>
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <button type="button" class="remove-from-cart" data-index="${index}" 
                style="background: none; border: none; color: #dc2626; cursor: pointer; padding: 0.25rem;">
          <i data-lucide="x" style="width: 16px; height: 16px;"></i>
        </button>
      </div>
    `;
    window.cartItems.appendChild(li);
  });
  
  let orderText = '';
  cart.forEach(item => {
    orderText += `‚Ä¢ ${item.name}\n`;
  });
  
  // Actualizar ambos campos seg√∫n el modo
  if (!manualMode) {
    window.customerOrder.value = orderText.trim();
    if (window.manualOrder) window.manualOrder.value = '';
  } else {
    if (window.manualOrder) window.manualOrder.value = orderText.trim();
    window.customerOrder.value = '';
  }
  
  lucide.createIcons();
}

// Alternar entre modo autom√°tico y manual
function toggleManualMode() {
  manualMode = !manualMode;
  
  if (!window.customerOrder || !window.manualOrderContainer || !window.toggleManualModeBtn) return;
  
  if (manualMode) {
    // Cambiar a modo manual
    window.customerOrder.style.display = 'none';
    window.manualOrderContainer.style.display = 'block';
    window.toggleManualModeBtn.innerHTML = '<i data-lucide="shopping-cart" style="width: 12px; height: 12px;"></i> Usar cat√°logo';
    window.toggleManualModeBtn.style.backgroundColor = 'var(--primary)';
    window.toggleManualModeBtn.style.color = 'white';
    
    // Copiar productos del carrito al campo manual
    if (cart.length > 0 && window.manualOrder) {
      let orderText = '';
      cart.forEach(item => {
        orderText += `‚Ä¢ ${item.name}\n`;
      });
      window.manualOrder.value = orderText.trim();
    }
  } else {
    // Cambiar a modo autom√°tico
    window.customerOrder.style.display = 'block';
    window.manualOrderContainer.style.display = 'none';
    window.toggleManualModeBtn.innerHTML = '<i data-lucide="edit" style="width: 12px; height: 12px;"></i> Escribir manual';
    window.toggleManualModeBtn.style.backgroundColor = '';
    window.toggleManualModeBtn.style.color = '';
    
    // Copiar texto manual al carrito (si hay)
    if (window.manualOrder && window.manualOrder.value.trim()) {
      window.customerOrder.value = window.manualOrder.value;
    }
  }
  
  lucide.createIcons();
}

// Eventos del carrito
document.addEventListener('click', function(e) {
  // Eliminar producto del carrito
  if (e.target.closest('.remove-from-cart')) {
    const index = e.target.closest('.remove-from-cart').getAttribute('data-index');
    cart.splice(index, 1);
    updateCart();
  }
  
  // Vaciar carrito
  if (e.target.id === 'clearCart' || e.target.closest('#clearCart')) {
    if (cart.length > 0 && confirm('¬øSeguro que quieres vaciar todos los productos agregados?')) {
      cart = [];
      updateCart();
    }
  }
});

// ===== 5. WHATSAPP PEDIDO =====
function setupWhatsAppSubmit() {
  const whatsappSubmitBtn = document.getElementById('whatsappSubmit');
  
  if (!whatsappSubmitBtn) {
    console.error('Bot√≥n whatsappSubmit no encontrado. Reintentando en 500ms...');
    setTimeout(setupWhatsAppSubmit, 500);
    return;
  }
  
  whatsappSubmitBtn.addEventListener('click', function(e) {
    e.preventDefault();
    
    const name = document.getElementById('customerName')?.value.trim();
    const phone = document.getElementById('customerPhone')?.value.trim();
    const address = document.getElementById('customerAddress')?.value.trim();
    const notes = document.getElementById('customerNotes')?.value.trim();
    
    if (!name || !phone || !address) {
      alert('Por favor completa tus datos de contacto (nombre, tel√©fono y direcci√≥n)');
      return;
    }
    
    // Obtener los productos seg√∫n el modo actual
    let orderText = '';
    if (manualMode && window.manualOrder && window.manualOrder.value.trim()) {
      orderText = window.manualOrder.value.trim();
    } else if (cart.length > 0) {
      cart.forEach(item => {
        orderText += `‚Ä¢ ${item.name}\n`;
      });
      orderText = orderText.trim();
    } else {
      orderText = window.customerOrder?.value.trim() || '';
    }
    
    if (!orderText) {
      alert('Por favor agrega al menos un producto o escribe tu pedido');
      return;
    }
    
    // Construir mensaje de WhatsApp bien formateado
    let whatsappMessage = `*NUEVO PEDIDO - MERCADITO MR*\n\n`;
    
    // Datos del cliente
    whatsappMessage += `*üë§ CLIENTE:*\n`;
    whatsappMessage += `Nombre: ${name}\n`;
    whatsappMessage += `Tel√©fono: ${phone}\n`;
    whatsappMessage += `Direcci√≥n: ${address}\n\n`;
    
    // Pedido
    whatsappMessage += `*üõí PEDIDO:*\n`;
    whatsappMessage += `${orderText}\n\n`;
    
    // Notas adicionales
    if (notes) {
      whatsappMessage += `*üìù NOTAS ADICIONALES:*\n`;
      whatsappMessage += `${notes}\n\n`;
    }
    
    // Resumen
    whatsappMessage += `*üìä RESUMEN DEL PEDIDO:*\n`;
    const productCount = manualMode ? 'Varios' : cart.length;
    whatsappMessage += `‚Ä¢ Productos solicitados: ${productCount}\n`;
    whatsappMessage += `‚Ä¢ Fecha y hora: ${new Date().toLocaleString('es-CO', { 
      year: 'numeric', 
      month: 'long', 
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    })}\n`;
    whatsappMessage += `‚Ä¢ Total: A consultar (precios al por mayor)\n`;
    whatsappMessage += `‚Ä¢ Nota: Te contactaremos para confirmar precios y disponibilidad\n\n`;
    
    whatsappMessage += `_¬°Gracias por tu pedido en Mercadito MR! üõí_`;
    
    const whatsappNumber = '573126370370';
    
    // Codificar el mensaje correctamente
    const encodedMessage = encodeURIComponent(whatsappMessage);
    const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
    
    // Mostrar mensaje de √©xito
    const deliveryForm = document.getElementById('deliveryForm');
    const formSuccess = document.getElementById('formSuccess');
    
    if (deliveryForm) deliveryForm.style.display = 'none';
    if (formSuccess) {
      formSuccess.classList.add('show');
      formSuccess.innerHTML = `
        <div class="form-success-icon">
          <i data-lucide="check-circle" style="width: 2rem; height: 2rem; color: #16a34a;"></i>
        </div>
        <h4 class="form-success-title">¬°Pedido listo!</h4>
        <p class="form-success-text">Redirigiendo a WhatsApp...</p>
        <p style="font-size: 0.875rem; color: var(--muted-foreground); margin-top: 1rem;">
          Si no se abre autom√°ticamente, haz clic 
          <a href="${whatsappURL}" target="_blank" style="color: var(--primary); font-weight: 600;">aqu√≠</a>
        </p>
      `;
    }
    
    // Recrear √≠conos en el mensaje de √©xito
    lucide.createIcons();
    
    // Abrir WhatsApp despu√©s de 1 segundo
    setTimeout(() => {
      window.open(whatsappURL, '_blank');
      
      // Restablecer formulario despu√©s de 5 segundos
      setTimeout(() => {
        resetForm();
      }, 5000);
    }, 1000);
  });
}

// Funci√≥n para restablecer el formulario
function resetForm() {
  const formSuccess = document.getElementById('formSuccess');
  const deliveryForm = document.getElementById('deliveryForm');
  
  if (formSuccess) formSuccess.classList.remove('show');
  if (deliveryForm) deliveryForm.style.display = 'grid';
  
  // Restablecer formulario
  const deliveryFormElement = document.getElementById('deliveryForm');
  if (deliveryFormElement) deliveryFormElement.reset();
  
  // Limpiar carrito y restablecer estado
  cart = [];
  manualMode = false;
  
  if (window.customerOrder) {
    window.customerOrder.style.display = 'block';
    window.customerOrder.value = '';
    window.customerOrder.placeholder = 'Aqu√≠ aparecer√°n autom√°ticamente los productos que agregues desde el cat√°logo...';
  }
  
  if (window.manualOrderContainer) window.manualOrderContainer.style.display = 'none';
  if (window.manualOrder) window.manualOrder.value = '';
  
  if (window.toggleManualModeBtn) {
    window.toggleManualModeBtn.innerHTML = '<i data-lucide="edit" style="width: 12px; height: 12px;"></i> Escribir manual';
    window.toggleManualModeBtn.style.backgroundColor = '';
    window.toggleManualModeBtn.style.color = '';
  }
  
  updateCart();
}

  // ===== 6. INICIAR TODO =====
  document.addEventListener('DOMContentLoaded', function() {
    // Mostrar categor√≠as
    mostrarCategorias();
    
    // Bot√≥n para volver a categor√≠as
    document.getElementById('backToCategories').addEventListener('click', function() {
      mostrarCategorias();
    });

// Configurar env√≠o por WhatsApp
  setupWhatsAppSubmit();
    
    // Inicializar carrito vac√≠o
    updateCart();
  });

</script>
